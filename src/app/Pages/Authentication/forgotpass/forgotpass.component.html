<div class="container">
  <div class="forgot-password-container">
    <div class="title">Create Your New Password</div>
    <div class="form-container">
      <form #resetForm="ngForm" (ngSubmit)="resetPassword()" novalidate>

        <!-- New Password -->
        <div class="password-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            name="password"
            [(ngModel)]="password"
            #pwd="ngModel"
            placeholder="New Password"
            required
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$"
          />
          <i
            class="toggle-password fa"
            [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"
            (click)="togglePasswordVisibility()"
          ></i>
        </div>

        <div class="signup-alert" *ngIf="pwd.touched && pwd.invalid">
          <small *ngIf="pwd.errors?.['required']">Password is required.</small>
          <small *ngIf="pwd.errors?.['pattern']">
            Password must contain:
            <ul>
              <li>Minimum 8 characters</li>
              <li>At least 1 uppercase and 1 lowercase letter</li>
              <li>At least 1 number</li>
              <li>At least 1 special character ($!%*?&)</li>
            </ul>
          </small>
        </div>

        <!-- Confirm Password -->
        <div class="password-wrapper">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            name="confirmPassword"
            [(ngModel)]="confirmPassword"
            #confirmPwd="ngModel"
            placeholder="Confirm Password"
            required
          />
          <i
            class="toggle-password fa"
            [ngClass]="showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'"
            (click)="toggleConfirmPasswordVisibility()"
          ></i>
        </div>

        <div class="signup-alert" *ngIf="confirmPwd.touched && confirmPwd.invalid">
          <small *ngIf="confirmPwd.errors?.['required']">Confirm password is required.</small>
        </div>

        <div class="signup-alert" *ngIf="confirmPwd.touched && password && confirmPassword && password !== confirmPassword">
          <small>Passwords do not match.</small>
        </div>

        <!-- Submit Button -->
        <div class="btn-container">
          <button type="submit" [disabled]="resetForm.invalid">
            Change Password
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
